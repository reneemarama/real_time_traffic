var console;if(window.JQCon=function(a){return a()},"undefined"!=typeof console&&null!==console||(console={log:function(){}}),function(JQCon){var a,b,c,d,e,f,g;for(g="Boolean Number String Function Array Date RegExp Object Error".split(" "),b={},d=0,e=g.length;d<e;d++)f=g[d],b["[object "+f+"]"]=f.toLowerCase();return c=b.toString,a=function(b,c,d){var e,g,h,i,j,k,l;if(JQCon.isArray(c)){for(i=[],e=g=0,h=c.length;g<h;e=++g)k=c[e],i.push(a(b+"["+("object"==typeof k?e:"")+"]",k,d));return i}if("object"===JQCon.type(c)){j=[];for(f in c)l=c[f],j.push(a(b+("["+f+"]"),l,d));return j}return d(b,c)},JQCon.isArray=Array.isArray||function(a){return"array"===JQCon.type(a)},JQCon.isFunction=function(a){return"function"===JQCon.type(a)},JQCon.type=function(a){return null===a?String(a):"object"==typeof a||"function"==typeof a?b[c.call(a)]||"object":typeof a},JQCon.extend=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},JQCon.param=function(b){var c,d,e,f;e=[],c=function(a,b){return e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};for(d in b)f=b[d],a(d,f,c);return e.join("&").replace(/%20/g,"+")}}(JQCon),function(a){a(JQCon)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(a){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},a.extend(h.defaults,i)),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;n<o;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)&&(a.cookie(b,"",a.extend({},a.extend({expires:-1},c))),!a.cookie(b))}}),!window.YT)var YT={loading:0,loaded:0};if(!window.YTConfig)var YTConfig={host:"http://www.youtube.com"};YT.loading||(YT.loading=1,function(){var a=[];YT.ready=function(b){YT.loaded?b():a.push(b)},window.onYTReady=function(){YT.loaded=1;for(var b=0;b<a.length;b++)try{a[b]()}catch(a){}},YT.setConfig=function(a){for(var b in a)a.hasOwnProperty(b)&&(YTConfig[b]=a[b])};var b=document.createElement("script");b.id="www-widgetapi-script",b.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vflT-xPmY/www-widgetapi.js",b.async=!0;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}());var Froogaloop=function(){function a(b){return new a.fn.init(b)}function b(a,b,c){if(!c.contentWindow.postMessage)return!1;var d=c.getAttribute("src").split("?")[0],a=JSON.stringify({method:a,value:b});"//"===d.substr(0,2)&&(d=window.location.protocol+d),c.contentWindow.postMessage(a,d)}function c(a){var b,c;try{b=JSON.parse(a.data),c=b.event||b.method}catch(a){}if("ready"==c&&!f&&(f=!0),a.origin!=g)return!1;var a=b.value,d=b.data,h=""===h?null:b.player_id;return b=h?e[h][c]:e[c],c=[],!!b&&(void 0!==a&&c.push(a),d&&c.push(d),h&&c.push(h),0<c.length?b.apply(null,c):b.call())}function d(a,b,c){c?(e[c]||(e[c]={}),e[c][a]=b):e[a]=b}var e={},f=!1,g="";return a.fn=a.prototype={element:null,init:function(a){"string"==typeof a&&(a=document.getElementById(a)),this.element=a,a=this.element.getAttribute("src"),"//"===a.substr(0,2)&&(a=window.location.protocol+a);for(var a=a.split("/"),b="",c=0,d=a.length;c<d&&3>c;c++)b+=a[c],2>c&&(b+="/");return g=b,this},api:function(a,c){if(!this.element||!a)return!1;var e=this.element,f=""!==e.id?e.id:null,g=c&&c.constructor&&c.call&&c.apply?null:c,h=c&&c.constructor&&c.call&&c.apply?c:null;return h&&d(a,h,f),b(a,g,e),this},addEvent:function(a,c){if(!this.element)return!1;var e=this.element,g=""!==e.id?e.id:null;return d(a,c,g),"ready"!=a?b("addEventListener",a,e):"ready"==a&&f&&c.call(null,g),this},removeEvent:function(a){if(!this.element)return!1;var c,d=this.element;a:{if((c=""!==d.id?d.id:null)&&e[c]){if(!e[c][a]){c=!1;break a}e[c][a]=null}else{if(!e[a]){c=!1;break a}e[a]=null}c=!0}"ready"!=a&&c&&b("removeEventListener",a,d)}},a.fn.init.prototype=a.fn,window.addEventListener?window.addEventListener("message",c,!1):window.attachEvent("onmessage",c),window.Froogaloop=window.$f=a}(),BaseObserver,BeatsObserver,ContentlyInsights,HighlightObserver,HtmlVideo,PageObserver,VideoObserver,VimeoVideo,YouTubeVideo,onYouTubePlayerAPIReady,bind=function(a,b){return function(){return a.apply(b,arguments)}},extend=function(a,b){function c(){this.constructor=a}for(var d in b)hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},hasProp={}.hasOwnProperty;BaseObserver=function(){function a(a){this.metricsData={},this.site_id=a.site_id,this.user_cookie=a.user_cookie,this.x_user_cookie=a.x_user_cookie}return a.prototype.baseUrl="//track.contently.com/track",a.prototype.sendData=function(a){var b,c,d,e,f;return b=JQCon.extend(this.gatherMetrics(),this.metricsData),this.debugLogger(this.metricsData.event),this.debugLogger(b),null!=navigator.sendBeacon?navigator.sendBeacon(this.baseUrl,JSON.stringify(b)):(d=JQCon.param(b),e=this.baseUrl+"?"+d,a?(f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),f.open("GET",e,!1),f.send()):(c=new Image(1,1),c.src=e))},a.prototype.gatherMetrics=function(){return{host:location.host,pathname:location.pathname,protocol:location.protocol,href:location.href,referrer:document.referrer,platform:window.navigator.platform,vendor:window.navigator.vendor,screen_d:screen.width+"x"+screen.height,viewport:document.documentElement.clientWidth+"x"+document.documentElement.clientHeight,tz_off:(new Date).getTimezoneOffset(),t_stamp:(new Date).getTime(),s_id:this.site_id,usr_c:JQCon.cookie("contently_insights_user"),mkto_c:JQCon.cookie("_mkto_trk"),x_usr:this.x_user_cookie,c_scroll:this.getScroll(),scroll_d:document.body.scrollWidth+"x"+document.body.scrollHeight}},a.prototype.createWatcher=function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},a.prototype.isMobileDevice=function(a){return null==a&&(a=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)},a.prototype.debugLogger=function(a){if(ContentlyInsights.DEBUG)return console.log(a)},a.prototype.getScroll=function(){var a,b,c,d,e,f,g;return void 0!==window.pageYOffset?(f=pageXOffset+(null!=(d=0===pageXOffset)?d:{0:document.documentElement.clientWidth}),g=pageYOffset+(null!=(e=0===pageYOffset)?e:{0:document.documentElement.clientHeight})):(b=document,c=b.documentElement,a=b.body,f=(c.scrollLeft||a.scrollLeft||0)+document.documentElement.clientWidth,g=(c.scrollTop||a.scrollTop||0)+document.documentElement.clientHeight),f+"x"+g},a}(),PageObserver=function(a){function b(a){this.onPageAction=bind(this.onPageAction,this),this.onTabAction=bind(this.onTabAction,this);var c;b.__super__.constructor.apply(this,arguments),this.sendPageLoad(),c=function(a){return function(b){return a.metricsData.event="PageUnload",a.sendData(!0)}}(this),this.createWatcher(window,"unload",c),this.prevTabAction=!1,this.createWatcher(window,"blur",this.onTabAction),this.createWatcher(window,"focus",this.onTabAction),this.prevPageAction=!1,this.createWatcher(window,"pagehide",this.onPageAction),this.createWatcher(window,"pageshow",this.onPageAction)}return extend(b,a),b.prototype.onTabAction=function(a){if(this.prevTabAction!==a.type)switch(a.type){case"blur":this.metricsData.event="TabBackground",this.sendData();break;case"focus":this.metricsData.event="TabForeground",this.sendData()}return this.prevTabAction=a.type},b.prototype.onPageAction=function(a){if(a.persisted){if(this.prevPageAction!==a.type)switch(a.type){case"pagehide":this.metricsData.event="PageUnload",this.sendData();break;case"pageshow":this.metricsData.event="PageLoad",this.sendData()}return this.prevPageAction=a.type}},b.prototype.sendPageLoad=function(){return this.metricsData.event="PageLoad",this.sendData()},b}(BaseObserver),HighlightObserver=function(a){function b(a){this.onHighlight=bind(this.onHighlight,this),b.__super__.constructor.apply(this,arguments),this.hText=void 0,this.createWatcher(document,"mouseup",this.onHighlight),this.createWatcher(document,"touchend",this.onHighlight)}return extend(b,a),b.prototype.onHighlight=function(a){if(this.hText=this.getSelectionText(),null!=this.hText&&""!==this.hText)return this.sendHighlightEvent()},b.prototype.sendHighlightEvent=function(){return this.metricsData.event="HighLight",this.metricsData.h_text=this.hText,this.sendData()},b.prototype.getSelectionText=function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection&&"Control"!==document.selection.type?document.selection.createRange().text:null},b}(BaseObserver),BeatsObserver=function(a){function b(a){this.onTouchMove=bind(this.onTouchMove,this),this.onMouseMove=bind(this.onMouseMove,this),this.onClick=bind(this.onClick,this),this.onKeepAlive=bind(this.onKeepAlive,this),this.addEvent=bind(this.addEvent,this),this.onInterval=bind(this.onInterval,this);var c;b.__super__.constructor.apply(this,arguments),c=a.element||document,this.alive=!1,this.evts=[],this.createWatcher(c,"scroll",this.onKeepAlive),this.createWatcher(c,"keyup",this.onKeepAlive),this.createWatcher(c,"touchstart",this.onKeepAlive),this.createWatcher(c,"pointerup",this.onKeepAlive),this.delayedTimeout=null,this.coordX=-1,this.coordY=-1,this.eventType=!1,this.createWatcher(c,"mousemove",this.onMouseMove),this.createWatcher(c,"touchmove",this.onTouchMove),this.createWatcher(c,"click",this.onClick),this.intervalId=setInterval(this.onInterval,5e3)}return extend(b,a),b.prototype.onInterval=function(){var a;return a=this.evts,this.sendPing(a),this.evts=[]},b.prototype.sendPing=function(a){return this.alive&&(this.metricsData.evts=this.evts,this.metricsData.event="BeatsEvent",this.evts=[],this.sendData()),this.alive=!1},b.prototype.keepAlive=function(){return this.alive=!0},b.prototype.addEvent=function(){return(this.coordX>0||this.coordY>0)&&this.evts.push({mcoord:this.coordX+"x"+this.coordY,tstamp:(new Date).getTime(),type:this.eventType}),this.delayedTimeout=null,this.coordX=this.coordY=-1,this.eventType=!1},b.prototype.addEventDelayed=function(a,b,c){if(this.coordX=a,this.coordY=b,this.eventType=c,null===this.delayedTimeout)return this.delayedTimeout=setTimeout(this.addEvent,500)},b.prototype.onKeepAlive=function(a){return this.keepAlive()},b.prototype.onClick=function(a){return this.keepAlive(),this.addEventDelayed(a.pageX,a.pageY,"click")},b.prototype.onMouseMove=function(a){return this.keepAlive(),this.addEventDelayed(a.pageX,a.pageY,"mouse")},b.prototype.onTouchMove=function(a){var b;if(this.keepAlive(),a.touches&&a.touches.length>0)return b=a.touches[0],this.addEventDelayed(b.pageX,b.pageY,"touch")},b}(BaseObserver),VideoObserver=function(a){function b(a){b.__super__.constructor.apply(this,arguments),this.hasPostMessage()&&(this.setupVimeo(),this.setupHtmlVideo())}var c;return extend(b,a),c={youtube:{regex:/youtube/},vimeo:{regex:/vimeo/},html5:{regex:/video/}},b.VIDEO_STATES={completed:0,playing:1,paused:2,cued:5},b.prototype.hasPostMessage=function(){return null!=window.postMessage},b.prototype.hasVideo=function(a){var b,c,d,e;for(e=document.getElementsByTagName("iframe"),c=0,d=e.length;c<d;c++)if(b=e[c],a.test(b.src))return!0;return!1},b.prototype.getVideo=function(a){var b,c,d,e;for(e=document.getElementsByTagName("iframe"),c=0,d=e.length;c<d;c++)if(b=e[c],a.test(b.src))return b},b.prototype.setupYouTube=function(){var a,b;if(this.hasVideo(c.youtube.regex))return a=this,b=this.getVideo(c.youtube.regex),this.youTubePlayer=new YouTubeVideo(b),this.youTubePlayer.vidObs=this},b.prototype.setupHtmlVideo=function(){var a;if(0!==(a=document.getElementsByTagName("video")).length)return this.html5VideoPlayer=new HtmlVideo(a[0],this)},b.prototype.setupVimeo=function(){if(this.hasVideo(c.vimeo.regex))return this.vimeoPlayer=new VimeoVideo($f(this.getVideo(c.vimeo.regex))),this.vimeoPlayer.vidObs=this,window.vim=this.vimeoPlayer},b.prototype.sendVideoData=function(a){return this.metricsData.event="VideoEvent",this.metricsData.evts=a,this.sendData()},b}(BaseObserver),YouTubeVideo=function(){function a(a){var b;b=this,this.currentTime=0,this.totalTime=0,this.player=new YT.Player(a,{events:{onStateChange:function(a){return b.onYouTubePlayerStateChange(a)}}})}return a.prototype.setCurrentTime=function(){return this.currentTime=this.player.getCurrentTime()},a.prototype.setTotalTime=function(){return this.totalTime=this.player.getDuration()},a.prototype.percentCompleted=function(){return this.currentTime/this.totalTime*100},a.prototype.onYouTubePlayerStateChange=function(a){var b,c,d,e,f;this.setTotalTime(),this.setCurrentTime(),e=VideoObserver.VIDEO_STATES;for(d in e)f=e[d],f===a.data&&(c=d);if(void 0!==c&&(100!==this.percentCompleted()||"paused"!==c))return b=JQCon.extend({state:c,curr_pos:this.currentTime,total:this.totalTime,percent:this.percentCompleted()},this.player.getVideoData()),b.video_type="youtube",this.vidObs.sendVideoData(b)},a}(),VimeoVideo=function(){function a(a){var b;this.currentTime=0,this.totalTime=0,b=this,this.player=a,this.setTotalTime(),this.player.addEvent("ready",function(){return b.player.addEvent("play",function(a){return b.onPlay()}),b.player.addEvent("pause",function(a){return b.onPause()}),b.player.addEvent("finish",function(a){return b.onFinish()}),b.player.addEvent("playProgress",function(a){return b.onProgress()})})}return a.prototype.setCurrentTime=function(){var a;return a=this,this.player.api("getCurrentTime",function(b,c){return a.currentTime=b})},a.prototype.setTotalTime=function(){var a;if(void 0!==this.totalTime)return a=this,this.player.api("getDuration",function(b,c){return a.totalTime=b})},a.prototype.percentCompleted=function(){return this.currentTime/this.totalTime*100},a.prototype.onPause=function(){return this.getData("paused")},a.prototype.onFinish=function(){return this.onProgress(),this.getData("finished")},a.prototype.onPlay=function(){return this.getData("playing")},a.prototype.onProgress=function(){return this.setCurrentTime(),this.setTotalTime()},a.prototype.getData=function(a){var b;return b={state:a,curr_pos:this.currentTime,total:this.totalTime,percent:this.percentCompleted()},b.video_type="vimeo",b.video_url=this.player.element.src,this.vidObs.sendVideoData(b)},a}(),HtmlVideo=function(){function a(a,b){var c;this.vidObs=b,c=this,this.currentTime=0,this.totalTime=0,this.player=a,this.vidObs.createWatcher(this.player,"play",function(a){return c.onPlay()}),this.vidObs.createWatcher(this.player,"pause",function(a){return c.onPause()}),this.vidObs.createWatcher(this.player,"ended",function(a){return c.onFinish()}),this.setTotalTime()}return a.prototype.setCurrentTime=function(){return this.currentTime=this.player.currentTime},a.prototype.setTotalTime=function(){return this.totalTime=this.player.duration},a.prototype.percentCompleted=function(){return this.currentTime/this.totalTime*100},a.prototype.onProgress=function(){return this.setCurrentTime(),this.setTotalTime()},a.prototype.onPause=function(){return this.onProgress(),this.getData("paused")},a.prototype.onFinish=function(){return this.onProgress(),this.getData("finished")},a.prototype.onPlay=function(){return this.onProgress(),this.getData("playing")},a.prototype.getData=function(a){var b;return b={state:a,curr_pos:this.currentTime,total:this.totalTime,percent:this.percentCompleted()},b.video_type="html5",this.vidObs.sendVideoData(b)},a}(),null!=window.postMessage&&(onYouTubePlayerAPIReady=function(){var a,b,c;return null!=(a=window._contently)&&null!=(b=a.insights)&&null!=(c=b.videoObs)?c.setupYouTube():void 0}),ContentlyInsights=function(){function a(b){var c;this.checkForDebugFlag(),a.DEBUG&&console.log("init Insights"),this.site_id=b.site_id,this.xdomain_wait_ms=b.xdomain_wait_ms||this.XDOMAIN_WAIT_MS_DEFAULT,c=function(b){return a.DEBUG&&console.log("xDomainCookie returned",b),this.x_user_cookie=b,this.checkForCookies(),this.pageObs=new PageObserver({site_id:this.site_id,user_cookie:this.user_cookie,x_user_cookie:this.x_user_cookie}),this.aliveObs=new BeatsObserver({site_id:this.site_id,user_cookie:this.user_cookie,x_user_cookie:this.x_user_cookie}),this.highlightObs=new HighlightObserver({site_id:this.site_id,user_cookie:this.user_cookie,x_user_cookie:this.x_user_cookie}),this.videoObs=new VideoObserver({site_id:this.site_id,user_cookie:this.user_cookie,x_user_cookie:this.x_user_cookie})},this.xDomainCookie(c.bind(this))}return a.DEBUG=!1,a.XDOMAIN_WAIT_MS_DEFAULT=3e3,a.prototype.checkForCookies=function(){var a,b,c;if(this.user_cookie=JQCon.cookie("contently_insights_user"),null==this.user_cookie)return c=new Date,b=location.pathname,a=this.x_user_cookie||this.generateCookieValue(),this.user_cookie=JQCon.cookie("contently_insights_user",a,{expires:730,path:"/",domain:this.getDomain(),secure:this.isSecure()})},a.prototype.checkForDebugFlag=function(){if(window.location.search.indexOf("ctly_debug")>=0)return a.DEBUG=!0},a.prototype.xDomainCookie=function(a){return ContentlyUserCookie("https://assets.contently.com/xdomain",this.site_id,a,!0,this.xdomain_wait_ms)},a.prototype.generateCookieValue=function(){var a,b,c;for(c="",b="abcdefghijklmnopqrstuvwxyz0123456789",a=0;a<4;)c+=b.charAt(Math.floor(Math.random()*b.length)),c+=Math.floor(65536*(1+Math.random())).toString(16).substring(1),a++;return c},a.prototype.isSecure=function(){return"https:"===window.location.protocol},a.prototype.getDomain=function(){var a;return a=location.hostname.split("."),a.length>2&&a.shift(),"."+a.join(".")},a}(),function(a){"use strict";var b=function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(c){function d(b,e,f){var g;if("undefined"!=typeof document){if(arguments.length>1){if(f=a({path:"/"},d.defaults,f),"number"==typeof f.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*f.expires),f.expires=h}try{g=JSON.stringify(e),/^[\{\[]/.test(g)&&(e=g)}catch(a){}return e=c.write?c.write(e,b):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(String(b)),b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),b=b.replace(/[\(\)]/g,escape),document.cookie=[b,"=",e,f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}b||(g={});for(var i=document.cookie?document.cookie.split("; "):[],j=/(%[0-9A-Z]{2})+/g,k=0;k<i.length;k++){var l=i[k].split("="),m=l.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{var n=l[0].replace(j,decodeURIComponent);if(m=c.read?c.read(m,n):c(m,n)||m.replace(j,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(a){}if(b===n){g=m;break}b||(g[n]=m)}catch(a){}}return g}}return d.set=d,d.get=function(a){return d.call(d,a)},d.getJSON=function(){return d.apply({json:!0},[].slice.call(arguments))},d.defaults={},d.remove=function(b,c){d(b,"",a(c,{expires:-1}))},d.withConverter=b,d}return b(function(){})}(),c=function(a,b,c,d,e,f){function g(a,b){f&&console.log("$CA_PUB_USR: "+a,b)}function h(a){return n+":"+a}function i(){for(var a="abcdefghijklmnopqrstuvwxyz0123456789",b="",c=0;c<4;c++)b+=a.charAt(Math.floor(Math.random()*a.length)),b+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return g("Creating new user ID to use",b),b}function j(a,b){try{if(b=JSON.parse(b),!("set_ts"in b&&"user_id"in b&&"s_id"in b))throw"Contently analytics cookie invalid object structure";return b}catch(a){}return{s_id:a,user_id:null,set_ts:0}}function k(){if(Object.keys(q).length<o.length)return g("XD cookie fetch return, remaining iterations: ",o.length-Object.keys(q).length);g("Final XD cookie fetch return, all vals present: ",q);var a=null;for(var b in q)q.hasOwnProperty(b)&&(!a||q[b].set_ts>a.set_ts)&&(a=q[b]);g("Most recent s_id val: ",a);var d=!1;a.user_id||(d=!0,a.user_id=i()),c(a.user_id);for(var b in q){if(!q.hasOwnProperty(b))return;var e=q[b];if(e.set_ts&&e.set_ts!==a.set_ts)g("NOT Setting/updating cookie for s_id ("+b+"): ",e.set_ts);else{var f={s_id:b,user_id:a.user_id,set_ts:(new Date).getTime()};g("Setting cookie for s_id ("+b+"): ",f),p.set(h(b),JSON.stringify(f))}}}var l=6e3,m="https:"===window.location.protocol,n="x_contently_id",o="string"==typeof b?[b]:b,p=xDomainCookie(a,"contently:analytics",!m&&d,e||l,d),q={};o.forEach(function(a){p.get(h(a),function(b){q[a]=j(a,b),k()})})},d=function(a,c){function d(a,b){c&&console.log("$CA_NOTRACK: "+a,b)}function e(a,b){return h?void h.get(i,function(c){var e=null;try{e=JSON.parse(c)}catch(a){}e=e||[],d("Fetched do not track Publication IDs:",e),a=parseInt(a,10);for(var f=0;f<e.length;f++)if(parseInt(e[f],10)===a)return b(!0);b(!1)}):b(!1)}function f(){if(!h)return d("Analytics xDomain cookie not set for this env");var a=b.getJSON(k);a&&"object"==typeof a?(d("Disabling tracking for Publication IDs:",a),h.set(i,JSON.stringify(a),j),b.remove(k)):d("Not disabling analytics tracking, no Pub IDs present in local cookie ")}function g(){h&&h.set(i,"[]",0)}var h=a?xDomainCookie(a,"contently:do_not_track",!0,6e3,!0):null,i="x_contently_do_not_track",j=14,k="do_not_track_analytics";return{isTrackingDisabled:e,platformDisableAnalyticsTracking:f,enableTracking:g}};a.ContentlyDoNotTrack=d,a.ContentlyUserCookie=c}(this),function(a){"use strict";var b=function(a,b,c,d,e,f){function g(){A&&(arguments[0]=":XDC_PAGE: "+arguments[0],console.log.apply(console,arguments))}function h(b){g("_inbound_postmessage",b.origin,b.data);var c=b.origin||b.originalEvent.origin;if(a.substr(0,c.length)===c&&"string"==typeof b.data){var d=null;try{d=JSON.parse(b.data)}catch(a){}"object"!=typeof d||d instanceof Array||"msg_type"in d&&"xdsc_read"===d.msg_type&&"namespace"in d&&d.namespace===q&&(v=d.cookies,s=!0,k())}}function i(){g("_iframe_load_error_occured"),t=!0,k()}function j(a){u.push(a),k()}function k(){if(t||s)for(;u.length>0;)u.pop()(t)}function l(b,c,d){var e={namespace:q,msg_type:"xdsc_write",cookie_name:b,cookie_val:c,expires_days:d,secure_only:z};g("_set_cookie_in_iframe",e),document.getElementById("xdomain_cookie_"+w).contentWindow.postMessage(JSON.stringify(e),a)}function m(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){var e=c[d].trim();if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}return""}function n(a,b,c){var d=new Date;d.setTime(d.getTime()+1e3*c*60*60*24);var e=a+"="+b+"; expires="+d.toUTCString()+(z?";secure":"");g("_set_local_cookie",e),document.cookie=e}function o(a,b,c){return s||t?(c=c||x,c=null===b||void 0===b?-100:c,y||n(a,b,c),t||l(a,b,c),void(v[a]=b)):u.push(function(){o(a,b,c)})}function p(a,b,c){function d(b,d,e){g("_get_xdomain_cookie_value D",b,d),o(a,d,c),"function"==typeof e&&e(d)}if(c=c||x,g("_get_xdomain_cookie_value A",a),!y){var e=m(a);if(e)return g("_get_xdomain_cookie_value B",e),j(function(a){d(!a,e)}),b(e)}j(function(c){if(g("_get_xdomain_cookie_value C",c),c)return d(!1,null,b);var e=a in v?v[a]:null;d(!c,e,b)})}"//"===a.substr(0,2)&&(a=("https:"===window.location.protocol?"https:":"http:")+a);var q=b||"xdsc",r=d||6e3,s=!1,t=!1,u=[],v={},w=(new Date).getTime(),x=30,y=!!c,z=!!e,A=!!f;window.addEventListener("message",h);var B=document.createElement("iframe");B.style.display="none",B.id="xdomain_cookie_"+w;var C=window.location.origin;C||(C=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var D={namespace:q,window_origin:C,iframe_origin:a,debug:A};return B.src=a+"/xdomain_cookie.html#"+encodeURIComponent(JSON.stringify(D)),document.body.appendChild(B),g("creating iframe",B.src),setTimeout(function(){s||i()},r),{get:p,set:o}};a.xDomainCookie=b}(this);
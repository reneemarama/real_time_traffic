var hsSearch=function(e){var t=3,n=e,r=e.querySelector(".hs-search-field__input"),c="",o=e.querySelector(".hs-search-field__suggestions"),a=function(){for(var e=[],t=document.querySelector("form"),n=0;n<t.querySelectorAll("input[type=hidden]").length;n++){var r=t.querySelectorAll("input[type=hidden]")[n];"limit"!==r.name&&e.push(encodeURIComponent(r.name)+"="+encodeURIComponent(r.value))}return e.join("&")},u=function(e,t,n){var r;return function(){var c=this,o=arguments,a=function(){r=null,n||e.apply(c,o)},u=n&&!r;clearTimeout(r),r=setTimeout(a,t||200),u&&e.apply(c,o)}},i=function(){o.innerHTML="",r.focus(),n.classList.remove("hs-search-field--open")},s=function(e){var t=[];t.push("<li id='results-for'>Results for \""+c+'"</li>'),e.forEach(function(e,n){var r=e.title,c=e.url,o=e.description;t.push("<li id='result"+n+"'><a href='"+c+"'>"+r+"</a></li>")}),i(),o.innerHTML=t.join(""),n.classList.add("hs-search-field--open")},l=function(){var e="/_hcms/search?&term="+encodeURIComponent(c)+"&limit="+encodeURIComponent(3)+"&autocomplete=true&analytics=true&"+a();$.getJSON(e,function(e){e.results.length>0?(s(e.results),f()):i()})},f=function(){var e=[];e.push(r);for(var t=o.getElementsByTagName("A"),c=0;c<t.length;c++)e.push(t[c]);var a=e[0],u=e[e.length-1],s=function(e){e.target!=u||e.shiftKey?e.target==a&&e.shiftKey&&(e.preventDefault(),u.focus()):(e.preventDefault(),a.focus())},l=function(t){t.preventDefault(),t.target==u?a.focus():e.forEach(function(n){n==t.target&&e[e.indexOf(n)+1].focus()})},f=function(t){t.preventDefault(),t.target==a?u.focus():e.forEach(function(n){n==t.target&&e[e.indexOf(n)-1].focus()})};n.addEventListener("keydown",function(e){switch(e.which){case 9:s(e);break;case 27:i();break;case 38:f(e);break;case 40:l(e);break}})},h=u(function(){c=r.value,c.length>2?l():0==c.length&&i()},250),d=function(){r.addEventListener("input",function(e){9!=e.which&&40!=e.which&&38!=e.which&&27!=e.which&&c!=r.value&&h()})}()};if(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState){var searchResults=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(searchResults,function(e){var t=hsSearch(e)})}else document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(e,function(e){var t=hsSearch(e)})});